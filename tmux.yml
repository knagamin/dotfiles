---
- name: install packages
  become: true
  dnf:
    name:
      - tmux
      - xclip
  ignore_errors: true

- name: Install "Oh My Tmux"
  git:
    clone: true
    repo: https://github.com/gpakosz/.tmux.git
    dest: "{{ lookup('env', 'HOME') }}/.tmux"
    force: true

- name: Create symlink for "On My Tmux"
  file:
    src: "{{ lookup('env', 'HOME') }}/.tmux/.tmux.conf"
    dest: "{{ lookup('env', 'HOME') }}/.tmux.conf"
    state: link

- name: tmux configuration
  file:
    src: "{{ lookup('env', 'PWD') }}/tmux/.tmux.conf.local"
    path: "{{ ansible_env.HOME }}/.tmux.conf.local"
    state: link
